[Gitbook](https://outrundao.gitbook.io/outrun/ "OutrunDao Official Doc")  

**Read this in chinese: [中文](README.cn.md)**  

# Outrun -- Built entirely around native yield from Blast

_Not Only Blast L2 Native Yield Stake Protocol_  
_Outstake is the first LSDFi protocol live on Blast._  
_We built the first decentralized algorithmic stablecoin pegged to ETH and USDB yields._

## What's Blast?

In Blast [Official Doc](https://docs.blast.io/about-blast "Blast Official Doc"), we can see.
> Blast is the only Ethereum L2 with native yield for ETH and stablecoins.
Blast yield comes from ETH staking and RWA protocols. The yield from these decentralized protocols is passed back to Blast users automatically. The default interest rate on other L2s is 0%. On Blast, it’s 4% for ETH and 5% for stablecoins.This yield makes it possible to create new business models for Dapps that aren’t possible on other L2s.

Based on the description above, we can understand that as long as users cross-chain their ETH to Blast, their EOA wallets will automatically start generating native yield. Similarly, smart contracts can also generate native yield, but in this case, the yield is controlled by the smart contract, and developers can withdraw the yield through Blast's interface.

## How to use native yield ?

Blast provides an interface for contracts to control the native revenue generated by assets within the contract. Detail：https://docs.blast.io/building/guides/eth-yield

For example, when developing a decentralized exchange (DEX), users establish liquidity pools by adding ETH-TOKEN liquidity to the liquidity contract address. In this contract address, the ETH will also start yielding. Developers can choose to keep the native yield for themselves, return it all to the users, distribute it to holders of their protocol token, or build more complex DeFi products. The key point here is that developers control these native yields.

## Why choose Outrun?

Native Yield is an intriguing feature that enables the possibility of constructing many new business models. However, behind this lies an overlooked aspect – whether users are willing to let developers control their native yields. What if users want to control these native yields themselves?

The emergence of Outrun addresses this issue. Outrun is a leading native yield staking solution that allows users to control the native yields generated by their assets. By staking with Outrun, users can retain control over the native yields produced by their assets. Additionally, users' tokens can maintain liquidity and be utilized across a range of DeFi applications, thereby earning additional rewards.

## Stake ETH

In the Outrun ecosystem, ETH exists in two forms:  

- RETH (Outrun Ether)
- PETH (Principal Ether)

Additionally  

- REY (RETH YieldToken) represents the yield rights of the staked RETH.

### RETH

RETH is a stablecoin pegged to ETH, which can be obtained at a 1:1 ratio by pledging ETH to the OutETHVault.

Therefore, 1 RETH always represents 1 ETH, and the circulating supply of RETH matches the amount of ETH in the Outrun ETH system. Users can convert RETH to ETH at any time.

Holding RETH alone does not yield native rewards generated by staking; it should be considered analogous to holding ETH.

RETH will also be available as a Wrapped Token on Outswap.

### PETH

PETH is the principal token minted by staking RETH to the RETHStakeManager, aiming to accumulate native yields and release liquidity for the staked tokens.

When users stake RETH, they need to specify a lock-up period to mint PETH and YieldToken. The quantity of PETH is not minted at a 1:1 ratio with the staked RETH. Instead, it is calculated using the following interest voucher ratio algorithm.

<div align="center">
    <img src="https://github.com/OutrunDao/Outrun/assets/32949831/1da8d6fa-3d16-4f9e-9c39-e34736fa9dd5" width="810" height="50">  
</div>

Over time, the OutETHVault can continuously generate native staking yields, and a corresponding amount of RETH is minted and added to the YieldPool. The newly staked RETH will result in a slight reduction in the minted PETH. However, regardless of the quantity of PETH minted, users can destroy the PETH minted at that time to fully redeem their staked RETH when the lock-up period expires. This design ensures that the price of PETH is better anchored to the price of ETH.

Note: PETH serves as the principal token for staking, while the staking yields generated by RETH are owned by holders of YieldToken. The design of using dual tokens aims to maximize the staking yields for RETH, as not all RETH tokens will be staked.

### REY

RETH YieldToken (REY) represents the yield rights of staked RETH, obtained by staking RETH and specifying a lock-up period. REY separates the staking yields of RETH and can be traded on secondary markets as well as used to construct other DeFi Lego pieces.

Unlike YieldTokens from other protocols currently on the market, which are typically NFTs or special FTs, they are non-fungible. This characteristic leads to a lack of liquidity for YieldTokens and reduces the protocol's composability.

Outrun's RETH YieldToken is a genuinely fungible token (FT), offering excellent liquidity and strong composability. For every 1 RETH staked for 1 day, 1 REY is minted. If _x_ RETH is staked for _y_ days, _xy_ REY will be minted. Therefore, theoretically, 1 REY is anchored to the native yield generated by staking 1 RETH for 1 day.

REY can be freely traded and can be instantly destroyed and redeemed for the accumulated native yield in the YieldPool without restrictions. When destroyed, the native yield generated is redeemed proportionally based on the number of REY destroyed compared to the total REY supply.

The existence of REY helps long-term stakers earn more income. While there might be impermanent loss (_IL_) incurred when destroying REY due to the proportional redemption of native yield based on the number of REY destroyed compared to the total REY supply, the corresponding impermanent profit (_IP_) is distributed to long-term stakers, thereby increasing their income.

### The mathematical model of REY

While REY may appear simple on the surface, the ability for REY to be freely traded and for any REY holder to redeem native yields at any time introduces a highly complex game-theoretic process and mathematical model.

The following, we construct a minimal model to calculate impermanent profit and losses.

Let's assume the current accumulated native yield in the YieldPool is 0. We denote the native yield generated by staking 1 REY for 1 day as _y_. 

User _A_ stakes _a_ amount of RETH and locks it up for _m_ days, resulting in the minting of _am_ REY tokens. We can consider the other users as a collective entity, represented by user _B_, who stakes _b_ amount of RETH and locks it up for _n_ days, resulting in the minting of _bn_ REY tokens.

After _t_ days:

<div align="center">
    <img src="https://github.com/OutrunDao/Outrun-Stake/assets/32949831/a56994fd-b2d0-42df-9e29-65ae70e68da3" width="450" height="225">  
</div>

The Impermanent Profit and Loss Ratio (_IPnLR_) can be obtained by dividing the actual earnings by the expected earnings and then subtracting 1.  
_IPnLR_ = (Actual Earnings / Expected Earnings) - 1

<div align="center">
    <img src="https://github.com/OutrunDao/Outstake/assets/32949831/6c3f034d-192f-4a4f-a840-17934032be42" width="290" height="135">  
</div>

The impermanent profit and loss (_IPnL_) can be obtained by multiplying each user's impermanent profit and loss ratio (_IPnLR_) by their respective expected earnings.  
_IPnLa_ = _IPnLRa_ * Expected Profit_A  
_IPnLb_ = _IPnLRb_ * Expected Profit_B  

<div align="center">
    <img src="https://github.com/OutrunDao/Outstake/assets/32949831/de77277e-d386-4e59-b982-d38022f02028" width="350" height="160">  
</div>

From the above figure, we can deduce that there is an impermanent profit and loss conservation between User _A_ and User _B_. If User _A_ and User _B_ lock up their assets for the same duration, both parties would experience no impermanent profit or loss. In other words, an individual user's impermanent profit and loss are correlated with the weighted average duration of other users in the staking pool.

Of course, the above is just a minimal model. The actual situation will be more complex due to the influence of multiple players in the game. Therefore, we will set a maximum lock-up time limit -- _MaxLockInterval_. The closer the user's lock-up time is to _MaxLockInterval_, the smaller the _IL_ and the larger the _IP_. Additionally, users can reduce _IL_ and obtain more _IP_ by redeeming their principal immediately upon the expiration of the lock-up period and then staking to mint REY again. When the user's lock-up time is _MaxLockInterval_, there will definitely be no _IL_.

Based on the model presented above, Outrun can help long-term stakers earn more income. We believe that ETH staking itself aims to make Ethereum more decentralized and secure. Therefore, users who contribute to the long-term protection of Ethereum should be rewarded more generously.

### Broader prospects

REY is not just a tool to help ETH long-term stakers earn more income, it is a truly fungible Yield Token and also the first decentralized algorithmic stablecoin anchored to the ETH staking yield rate in Web3. In the market dynamics, REY remains linked to the ETH staking yield rate, when REY is undervalued, users can purchase REY from the market and then destroy it, redeeming the corresponding yield from the YieldPool. In the future, Outrun will leverage the features of REY and collaborate with the community to build more interesting products.

### UML Sequence Diagram

![931b83d0b3a56216f901edd218a6251](https://github.com/OutrunDao/Outrun-Stake/assets/32949831/8347240f-1399-49e0-a1a4-36b7c4f8517e)

## Stake USDB

The native yield staking solution for USDB is similar to that of ETH, and documentation will be further improved in the future.

## FlashLoan

FlashLoan is a new way of borrowing assets on the blockchain. Unlike traditional collateralized loans, FlashLoan requires no collateral, credit scoring, or management to process unsecured loans. FlashLoan is often used for on-chain arbitrage, liquidation, and other activities.

FlashLoan leverages atomicity to allow users to borrow without providing collateral. There are two important considerations to mention. Firstly, whenever you borrow assets in a FlashLoan, you must pay a usage fee. Secondly, the loan must be repaid in the same transaction it was borrowed.

Outrun offers FlashLoan functionality, where arbitrageurs can borrow the user's pledged ETH or USDB through the provided interface and repay it in the same transaction. This can provide additional sources of income for stakers and improve capital efficiency.

# OutSwap

We have made improvements to our automated market maker based on Uniswap V2. We use RETH and RUSD as base currencies, allowing liquidity providers to claim LP rewards without removing liquidity to adapt to our FF launch. In the future, we will continuously upgrade the protocol to provide users with a smoother experience.

# FF LaunchPad

Do you remember the recent inscription Summer?

Imagine combining inscription's FairLaunch feature with LaunchPad.

FFLaunch combines OutrunDao's other two products, "Outstake" and "Outswap," leveraging their strengths to create the fairest token issuance method in history.

Issuing ERC20 tokens like inscription, users can mint tokens by paying a fee. During the minting process, the fee along with a portion of tokens reserved in the contract form a trading pair to provide liquidity on Outswap. LP will be locked for a period, and users will receive YieldTokens by locking their minting fees (staking ETH). Upon the expiration of the lock-up period, users can withdraw their LP and remove liquidity. This is equivalent to users getting these tokens for free while simultaneously participating in the entire liquidity-building process of the project.

For the project team, the funds they raise come from the trading fees collected by the trading pairs during the LP lockup period.With the core fundamental requirements mentioned above, we also provide customizable callee interfaces for project teams to support the flexibility of FFLaunch. This allows project teams to build their own unique launch logic on top of the Fair And Free foundation.

Compared to traditional ICOs or IDOs, the FFLaunch model is fairer and more investor-friendly. Investors can obtain the project's tokens for free, while also preventing the project team from conducting rug pulls or abandoning further development of the product after raising a large amount of funds, as is common in traditional IDOs. To raise further funds, project teams must continuously iterate on products during the LP lock-up period, encouraging users to trade their tokens. This facilitates sustained growth in cash flow. Furthermore, the FFLaunch model fosters community-driven liquidity. Since tokens are essentially obtained for free, this encourages more liquidity to be pooled, thereby increasing the depth of the liquidity pool. This is crucial for a newly launched project.
